{{!-- 
    - display current groups
    - opt for deleting call (students)
 --}}
<div class="container">
  <h1>Classroom</h1>

  <div class="row">
    {{!-- s i d e b a r --}}
    <div class="col-3">

      {{!-- c a l l q u e u e --}}
      <div id="call-queue"
        class="classroom-sidebar classroom-sidebar--min-vh d-flex flex-column justify-content-between">
        <div>
          <h2>CallQueue</h2>
          <div class="form-group">
            <ul id="call-list" class="list-group">
              {{#each queueObj}}
              <li class="list-group-item">{{firstName}} {{lastName}}</li>
              {{/each}}
            </ul>
          </div>
        </div>
        <div class="d-flex flex-wrap justify-content-between">
          {{#isStudent}}
          <a href="/classroom/queue-wave" class="btn btn-primary btn-block">Wave</a>
          {{else}}
          <a href="/classroom/queue-tick" class="btn btn-primary btn-block">Tick</a>
          {{/isStudent}}
        </div>
      </div>

      {{!-- c r e a t e  g r o u p s --}}
      {{#isTA}}
      <div id="create-groups" class="classroom-sidebar">
        <h2>Create groups</h2>
        {{!-- input form to set parameters for createGroups --}}
        <form action="/classroom/create-groups" method="POST">
          <div class="row">
            <div class="col-sm-12 col-lg">
              <div class="form-group">
                <label for="groupSize">Group size</label>
                <input type="number" class="form-control" name="groupSize" value="2" placeholder="Number of people">
              </div>
            </div>

            <div class="col-sm-12 col-lg-7">
              <div class="form-group">
                <label for="option">Option</label>
                <select class="custom-select" name="option">
                  <option value="noRepeat" selected>Not again!</option>
                  <option value="repeat">Mix randomly</option>
                </select>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="notPresent">Students missing today</label>
            {{#groupedEach 2 students}}
            <div class="row">
              {{#each this}}
              <div class="col">
                <div class="custom-control custom-checkbox">
                  <input class="custom-control-input" type="checkbox" value="{{_id}}" name="notPresent" id="{{_id}}">
                  <label class="custom-control-label" for="{{_id}}">
                    {{firstName}}
                  </label>
                </div>
              </div>
              {{/each}}
            </div>
            {{/groupedEach}}
          </div>
          <div class="d-flex flex-wrap justify-content-between">
            <button type="submit" class="btn btn-primary btn-block">Create groups</button>
            <a href="/classroom/reset-worked-with" class="btn btn-secondary btn-block">Reset partners</a>
          </div>
        </form>
        {{/isTA}}


      </div>
    </div>

    {{!-- m a i n  a r e a --}}
    <div class="col">
      {{!-- output to show groups --}}
      <div class="groups">
        <div class="d-flex flex-wrap">
          {{#each groups as |item|}}
          <div class="card card--margin-rb" style="width: 10rem;">
            <div class="d-flex flex-wrap justify-content-around">
              {{#each item}}
              <img src="{{imgUrl}}" class="card-img-top" alt="{{username}}">
              {{/each}}
            </div>
            <div class="">
              {{!-- <h5 class="card-title">Group x</h5> --}}
              <ul class="list-group list-group-flush">
                {{#each item}}
                <li class="list-group-item">{{firstName}}</li>
                {{/each}}
              </ul>
            </div>
          </div>
          {{/each}}
        </div>
      </div>
    </div>
  </div>
</div>